<?xml version="1.0" encoding="utf-8"?>

<!-- Permission is granted to copy, distribute and/or modify this document -->
<!-- under the terms of the GNU Free Documentation License, Version 1.3 -->
<!-- or any later version published by the Free Software Foundation; -->
<!-- with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts. -->
<!-- A copy of the license is included in the section entitled "GNU -->
<!-- Free Documentation License". -->

<chapter xmlns="http://docbook.org/ns/docbook"
	 xmlns:xi="http://www.w3.org/2001/XInclude" version="5.0">
  <title>Supported backends</title>

  <para>
    There is support for various backends like ALSA, OSSv4, JACK Audio Connection Kit, Pulseaudio
    and Core-Audio.
  </para>
  
  <sect1>
    <title>Soundcards</title>
    
    <para>
      AgsSoundcardThread does talk to your soundcard or &quot;virtual&quot; soundcard by
      the AgsSoundcard interface. Prior only output was supported but audio input is currently
      developed as part of the 1.4.x release.
    </para>

    <para>
      The thread does intermediate post synchronization in view of the audio processing thread
      AgsAudioLoop. It can poll your file descriptors to schedule work.
    </para>

    <para>
      AgsClearBuffer task clears some of the ring-buffer in order next additive mixing can do
      its work. This is performed by &quot;ags-play-channel-run&quot; or alike.
    </para>

    <para>
      AgsSwitchBufferFlag controls the currently used part of the ring-buffer.
    </para>
    
    <para>
      Note polling is done by AgsPollingThread and the library maps it to AgsPollFd object.
    </para>
    
  </sect1>
  
  <sect1>
    <title>Export to audio files</title>

    <para>
      AgsExportThread does output to an audio file. Currently supported formats are WAV,
      FLAC, AIFF and OGG. However libsndfile provides more formats but their suffix isn't
      checked, yet.
    </para>

    <para>
      AgsAudioFile is used to export your data in realtime. FYI the buffer is only flushed
      as the file object is closed.
    </para>
	
  </sect1>

  <sect1>
    <title>MIDI instruments</title>

    <para>
      AgsSequencerThread gets MIDI data from your instrument, by using AgsSequencer interface.
      Currently only MIDI input is supported as version 1.4.x.
    </para>

    <para>
      The thread does intermediate pre synchronization in view of the audio processing thread
      AgsAudioLoop. It checks for new bytes to be read and provides it as ring-buffer.
    </para>

    <para>
      AgsClearBuffer task clears some of the ring-buffer in order next bytes can be provided. Them are
      used by &quot;ags-record-midi&quot; recall. The MIDI note-on and note-off are interpreted to
      AgsNote objects.
    </para>

    <para>
      AgsSwitchBufferFlag controls the currently used part of the ring-buffer.
    </para>
    
  </sect1>
</chapter>
